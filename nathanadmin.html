<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schenectady Analytics - H·ªá Th·ªëng Ph√¢n T√≠ch</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary-yellow: #ffc107;
            --dark-gray: #1e242b;
            --light-gray: #f4f6f9;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light-gray);
            color: var(--dark-gray);
        }

        .navbar-custom {
            background-color: var(--dark-gray);
            border-bottom: 3px solid var(--primary-yellow);
        }

        .navbar-brand {
            color: white !important;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .dashboard-header {
            padding: 25px 0;
            background-color: white;
            border-bottom: 1px solid #dee2e6;
            margin-bottom: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.02);
        }

        .action-icon {
            cursor: pointer;
            color: #adb5bd;
            transition: color 0.2s;
        }

        .action-delete:hover {
            color: #dc3545;
        }

        .table> :not(caption)>*>* {
            padding: 1rem 0.75rem;
        }

        .stat-card {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
            border-left: 4px solid var(--primary-yellow);
            height: 100%;
        }

        .stat-card h6 {
            color: #6c757d;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.8rem;
            margin-bottom: 10px;
        }

        .stat-card h3 {
            font-weight: 800;
            margin: 0;
            color: var(--dark-gray);
        }

        .visitor-row {
            cursor: pointer;
            transition: background-color 0.15s;
        }

        .visitor-row:hover {
            background-color: #fff8e1 !important;
        }

        .detail-row {
            display: none;
            background-color: #fafafa;
        }

        .detail-row.show {
            display: table-row;
        }

        .detail-box {
            padding: 20px 30px;
        }

        .detail-box .detail-item {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
        }

        .detail-box .detail-item:last-child {
            border-bottom: none;
        }

        .detail-box .detail-label {
            font-weight: 600;
            color: #6c757d;
            width: 180px;
            flex-shrink: 0;
            font-size: 0.85rem;
        }

        .detail-box .detail-value {
            font-weight: 500;
            color: var(--dark-gray);
        }

        .submission-card {
            background: white;
            border-left: 4px solid #198754;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
        }

        .tab-btn {
            border: none;
            background: none;
            padding: 10px 20px;
            font-weight: 600;
            color: #6c757d;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
        }

        .tab-btn.active {
            color: var(--dark-gray);
            border-bottom-color: var(--primary-yellow);
        }

        .tab-btn:hover {
            color: var(--dark-gray);
        }
    </style>
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar navbar-custom py-3">
        <div class="container-fluid px-4">
            <span class="navbar-brand mb-0 h5">
                <i class="fa-solid fa-chart-line text-warning me-2"></i>
                IP Analytics Tracker
            </span>
            <div class="d-flex text-white align-items-center">
                <button class="btn btn-outline-warning btn-sm" onclick="initDatabase()">
                    <i class="fa-solid fa-database me-1"></i> Format & Init DB
                </button>
            </div>
        </div>
    </nav>

    <!-- Header & Stats -->
    <div class="dashboard-header">
        <div class="container-fluid px-4">
            <div class="row align-items-center mb-4">
                <div class="col-md-6">
                    <h2 class="h4 fw-bold mb-1">Live Visitor Analytics</h2>
                    <p class="text-muted mb-0 small">Theo d√µi chi ti·∫øt thi·∫øt b·ªã, v·ªã tr√≠ v√† h√†nh vi c·ªßa ng∆∞·ªùi v√†o site
                    </p>
                </div>
            </div>

            <div class="row g-3 mb-2">
                <div class="col-md-3">
                    <div class="stat-card">
                        <h6>T·ªïng L∆∞·ª£t C·∫≠p (Views)</h6>
                        <h3 id="totalViews">0</h3>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-card" style="border-left-color: #0dcaf0">
                        <h6>L∆∞·ª£t Truy C·∫≠p H√¥m Nay</h6>
                        <h3 id="todayViews">0</h3>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-card" style="border-left-color: #198754">
                        <h6>Form Submissions</h6>
                        <h3 id="totalSubmissions">0</h3>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="stat-card" style="border-left-color: #dc3545">
                        <h6>PDF Downloads</h6>
                        <h3 id="totalDownloads">0</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container-fluid px-4 pb-5">

        <div id="alertContainer"></div>

        <!-- Tabs -->
        <div class="mb-3 bg-white rounded shadow-sm p-2 d-flex gap-2">
            <button class="tab-btn active" onclick="switchTab('visitors', this)">
                <i class="fa-solid fa-clock-rotate-left me-1"></i> Nh·∫≠t K√Ω Truy C·∫≠p
            </button>
            <button class="tab-btn" onclick="switchTab('submissions', this)">
                <i class="fa-solid fa-file-signature me-1"></i> Form Submissions
                <span class="badge bg-success ms-1" id="submissionBadge">0</span>
            </button>
        </div>

        <!-- VISITORS TAB -->
        <div id="visitorsTab">
            <div class="card shadow-sm border-0">
                <div
                    class="card-header bg-white py-3 d-flex justify-content-between align-items-center border-bottom-0">
                    <h5 class="mb-0 fw-bold fs-6"><i class="fa-solid fa-clock-rotate-left text-warning me-2"></i> Nh·∫≠t
                        K√Ω
                        Truy C·∫≠p</h5>
                    <button class="btn btn-sm btn-dark" onclick="fetchVisitors()">
                        <i class="fa-solid fa-rotate-right me-1"></i> T·∫£i l·∫°i
                    </button>
                </div>
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table table-hover align-middle mb-0" style="font-size: 0.9rem;">
                            <thead class="table-light text-muted small text-uppercase">
                                <tr>
                                    <th style="padding-left: 20px;">Th·ªùi gian (Time)</th>
                                    <th>IP Address</th>
                                    <th>Nh√† m·∫°ng (ISP)</th>
                                    <th>Thi·∫øt b·ªã (Device)</th>
                                    <th>Pin (Battery)</th>
                                    <th>H√†nh ƒë·ªông</th>
                                    <th>C·∫£m bi·∫øn (Motion)</th>
                                    <th>V·ªã tr√≠ ∆∞·ªõc t√≠nh</th>
                                    <th class="text-end" style="padding-right: 20px;"><i class="fa-solid fa-gear"></i>
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="visitorsTableBody">
                                <tr>
                                    <td colspan="9" class="text-center py-5">
                                        <div class="spinner-border text-warning spinner-border-sm" role="status"></div>
                                        <span class="ms-2">ƒêang t·∫£i d·ªØ li·ªáu...</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- SUBMISSIONS TAB -->
        <div id="submissionsTab" style="display: none;">
            <div class="card shadow-sm border-0">
                <div
                    class="card-header bg-white py-3 d-flex justify-content-between align-items-center border-bottom-0">
                    <h5 class="mb-0 fw-bold fs-6"><i class="fa-solid fa-file-signature text-success me-2"></i> Contact
                        Form Submissions</h5>
                    <button class="btn btn-sm btn-dark" onclick="fetchSubmissions()">
                        <i class="fa-solid fa-rotate-right me-1"></i> T·∫£i l·∫°i
                    </button>
                </div>
                <div class="card-body" id="submissionsContainer">
                    <p class="text-muted text-center py-4">ƒêang t·∫£i...</p>
                </div>
            </div>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const API_URL = '/api';

        document.addEventListener('DOMContentLoaded', () => {
            fetchVisitors();
            fetchSubmissions();
        });

        function switchTab(tab, btn) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            document.getElementById('visitorsTab').style.display = tab === 'visitors' ? 'block' : 'none';
            document.getElementById('submissionsTab').style.display = tab === 'submissions' ? 'block' : 'none';
        }

        function showAlert(message, type = 'success') {
            const alertHtml = `
                <div class="alert alert-${type} alert-dismissible fade show shadow-sm" role="alert">
                    ${message}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
            `;
            document.getElementById('alertContainer').innerHTML = alertHtml;
            setTimeout(() => {
                const alertEl = document.querySelector('.alert');
                if (alertEl) {
                    const alert = new bootstrap.Alert(alertEl);
                    alert.close();
                }
            }, 3000);
        }

        async function initDatabase() {
            if (!confirm("C·∫£nh b√°o: Thao t√°c n√†y s·∫Ω X√ìA TO√ÄN B·ªò d·ªØ li·ªáu c≈© v√† t·∫°o l·∫°i b·∫£ng Visitors + Submissions m·ªõi. B·∫°n c√≥ ch·∫Øc kh√¥ng?")) return;
            try {
                const response = await fetch(`${API_URL}/init`);
                if (response.ok) {
                    showAlert('Kh·ªüi t·∫°o Database th√†nh c√¥ng!', 'success');
                    fetchVisitors();
                    fetchSubmissions();
                } else {
                    showAlert('C√†i ƒë·∫∑t Database th·∫•t b·∫°i', 'danger');
                }
            } catch (error) {
                showAlert('L·ªói k·∫øt n·ªëi API Server', 'danger');
            }
        }

        function getCountryCode(country) {
            const map = {
                'United States': 'us', 'United Kingdom': 'gb', 'Vietnam': 'vn',
                'Canada': 'ca', 'Australia': 'au', 'Germany': 'de', 'France': 'fr',
                'Japan': 'jp', 'India': 'in', 'Brazil': 'br', 'Mexico': 'mx'
            };
            return map[country] || '';
        }

        async function fetchVisitors() {
            const tbody = document.getElementById('visitorsTableBody');
            try {
                const response = await fetch(`${API_URL}/visitors`);
                const visitors = await response.json();

                updateStats(visitors);

                if (visitors.length === 0) {
                    tbody.innerHTML = `<tr><td colspan="9" class="text-center py-5 text-muted">Ch∆∞a c√≥ d·ªØ li·ªáu IP n√†o ƒë∆∞·ª£c ghi nh·∫≠n.</td></tr>`;
                    return;
                }

                tbody.innerHTML = '';
                visitors.forEach((v, index) => {
                    const visitDate = new Date(v.visited_at);
                    const timeOptions = { timeZone: 'America/New_York', hour: '2-digit', minute: '2-digit', second: '2-digit' };
                    const dateOptions = { timeZone: 'America/New_York', month: 'short', day: 'numeric' };
                    const timeStr = visitDate.toLocaleTimeString('en-US', timeOptions);
                    const dateStr = visitDate.toLocaleDateString('en-US', dateOptions);

                    const cc = getCountryCode(v.country);
                    const flagIcon = cc ? `<img src="https://flagcdn.com/16x12/${cc}.png" alt="flag" class="me-1">` : '';

                    const actionColors = {
                        'SUBMITTED FORM': 'success',
                        'AUTO DOWNLOAD': 'danger',
                        'DOWNLOAD_PDF': 'danger',
                        'CLICK BANNER (PDF)': 'warning text-dark',
                        'VIEW PHOTO (PDF)': 'info',
                        'CLICK LINK (PDF)': 'primary',
                        'CLICK BUTTON (PDF)': 'primary',
                    };
                    const actionBadgeColor = actionColors[v.last_action] || 'secondary';

                    let locationHtml = `<div>${flagIcon} ${v.city !== 'Unknown' ? v.city : ''} ${v.country !== 'Unknown' ? v.country : 'Unknown'}</div>`;
                    if (v.geolocation && v.geolocation.includes(',')) {
                        const [lat, lng] = v.geolocation.split(',');
                        locationHtml += `<div class="mt-1 small"><a href="https://www.google.com/maps?q=${lat.trim()},${lng.trim()}" target="_blank" class="text-danger fw-bold text-decoration-none"><i class="fa-solid fa-location-dot"></i> üìç B·∫£n ƒë·ªì GPS</a></div>`;
                    }

                    const durationStr = v.duration_seconds > 0 ? `${v.duration_seconds}s` : '-';

                    // Main Row (Clickable)
                    const row = `
                        <tr class="visitor-row" onclick="toggleDetail('detail-${v.id}')">
                            <td style="padding-left: 20px;">
                                <div class="fw-bold">${timeStr}</div>
                                <div class="text-muted small">${dateStr}</div>
                            </td>
                            <td>
                                <div class="fw-bold text-primary font-monospace">${v.ip_address || 'Unknown'}</div>
                            </td>
                            <td>
                                <div class="fw-semibold"><i class="fa-solid fa-server me-1" style="font-size: 0.8rem; color: #adb5bd;"></i> ${v.isp || 'Unknown'}</div>
                            </td>
                            <td>
                                <div><i class="fa-solid ${v.device && (v.device.includes('iPhone') || v.device.includes('Android') || v.device.includes('mobile')) ? 'fa-mobile-screen' : 'fa-laptop'} me-1 text-muted"></i> <span class="fw-semibold text-primary">${v.device}</span></div>
                                <div class="small text-muted mt-1"><span class="badge bg-light text-dark border">${v.os}</span> ${v.browser} | ${v.screen_resolution}</div>
                            </td>
                            <td>
                                <div class="fw-semibold font-monospace">${v.battery_info || 'Unknown'}</div>
                            </td>
                            <td>
                                <span class="badge bg-${actionBadgeColor}"> ${v.last_action || 'VIEW'}</span>
                            </td>
                            <td>
                                <span class="badge ${v.motion_status && v.motion_status.includes('Moving') ? 'bg-success' : 'bg-light text-dark border'}">
                                    <i class="fa-solid ${v.motion_status && v.motion_status.includes('Gyro') ? 'fa-mobile-screen-button' : 'fa-hand'} me-1"></i>
                                    ${v.motion_status || 'Static'}
                                </span>
                            </td>
                            <td>
                                ${locationHtml}
                            </td>
                            <td class="text-end" style="padding-right: 20px;">
                                <i class="fa-solid fa-chevron-down action-icon me-2" id="chevron-${v.id}"></i>
                                <i class="fa-regular fa-trash-can action-icon action-delete" onclick="event.stopPropagation(); deleteVisitor(${v.id})"></i>
                            </td>
                        </tr>
                    `;

                    // Detail Row (Hidden by default, shown on click)
                    const detailRow = `
                        <tr class="detail-row" id="detail-${v.id}">
                            <td colspan="9" style="padding: 0;">
                                <div class="detail-box">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6 class="fw-bold text-uppercase text-muted small mb-3"><i class="fa-solid fa-id-card text-warning me-1"></i> Th√¥ng Tin Chi Ti·∫øt</h6>
                                            <div class="detail-item">
                                                <span class="detail-label">IP Address:</span>
                                                <span class="detail-value font-monospace">${v.ip_address || 'Unknown'}</span>
                                            </div>
                                            <div class="detail-item">
                                                <span class="detail-label">Nh√† M·∫°ng (ISP):</span>
                                                <span class="detail-value">${v.isp || 'Unknown'}</span>
                                            </div>
                                            <div class="detail-item">
                                                <span class="detail-label">Thi·∫øt B·ªã:</span>
                                                <span class="detail-value">${v.device || 'Unknown'}</span>
                                            </div>
                                            <div class="detail-item">
                                                <span class="detail-label">H·ªá ƒêi·ªÅu H√†nh:</span>
                                                <span class="detail-value">${v.os || 'Unknown'}</span>
                                            </div>
                                            <div class="detail-item">
                                                <span class="detail-label">Tr√¨nh Duy·ªát:</span>
                                                <span class="detail-value">${v.browser || 'Unknown'}</span>
                                            </div>
                                            <div class="detail-item">
                                                <span class="detail-label">ƒê·ªô Ph√¢n Gi·∫£i:</span>
                                                <span class="detail-value">${v.screen_resolution || 'Unknown'}</span>
                                            </div>
                                            <div class="detail-item">
                                                <span class="detail-label">Pin:</span>
                                                <span class="detail-value">${v.battery_info || 'Unknown'}</span>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <h6 class="fw-bold text-uppercase text-muted small mb-3"><i class="fa-solid fa-location-crosshairs text-danger me-1"></i> V·ªã Tr√≠ & H√†nh Vi</h6>
                                            <div class="detail-item">
                                                <span class="detail-label">Qu·ªëc Gia:</span>
                                                <span class="detail-value">${flagIcon} ${v.country || 'Unknown'}</span>
                                            </div>
                                            <div class="detail-item">
                                                <span class="detail-label">Th√†nh Ph·ªë:</span>
                                                <span class="detail-value">${v.city || 'Unknown'}</span>
                                            </div>
                                            <div class="detail-item">
                                                <span class="detail-label">T·ªça ƒê·ªô GPS:</span>
                                                <span class="detail-value">${v.geolocation ? `<a href="https://www.google.com/maps?q=${v.geolocation.replace(' ', '')}" target="_blank" class="text-danger fw-bold text-decoration-none">üìç ${v.geolocation} <i class="fa-solid fa-arrow-up-right-from-square ms-1 small"></i></a>` : '<span class="text-muted">Ch∆∞a c√≥</span>'}</span>
                                            </div>
                                            <div class="detail-item">
                                                <span class="detail-label">H√†nh ƒê·ªông:</span>
                                                <span class="detail-value"><span class="badge bg-${actionBadgeColor}">${v.last_action || 'VIEW'}</span></span>
                                            </div>
                                            <div class="detail-item">
                                                <span class="detail-label">C·∫£m Bi·∫øn:</span>
                                                <span class="detail-value">${v.motion_status || 'Static'}</span>
                                            </div>
                                            <div class="detail-item">
                                                <span class="detail-label">Th·ªùi Gian ·ªû:</span>
                                                <span class="detail-value">${durationStr}</span>
                                            </div>
                                            <div class="detail-item">
                                                <span class="detail-label">Trang Truy C·∫≠p:</span>
                                                <span class="detail-value">${v.visited_url || '/'}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    `;

                    tbody.insertAdjacentHTML('beforeend', row);
                    tbody.insertAdjacentHTML('beforeend', detailRow);
                });
            } catch (error) {
                tbody.innerHTML = `<tr><td colspan="9" class="text-center py-5 text-danger"><i class="fa-solid fa-circle-exclamation me-2"></i> L·ªói k·∫øt n·ªëi t·ªõi Server. H√£y ch·∫Øc ch·∫Øn npm start ƒëang ch·∫°y!</td></tr>`;
            }
        }

        function toggleDetail(id) {
            const row = document.getElementById(id);
            if (row) {
                row.classList.toggle('show');
                // Toggle chevron
                const vid = id.replace('detail-', '');
                const chevron = document.getElementById(`chevron-${vid}`);
                if (chevron) {
                    chevron.classList.toggle('fa-chevron-down');
                    chevron.classList.toggle('fa-chevron-up');
                }
            }
        }

        async function fetchSubmissions() {
            const container = document.getElementById('submissionsContainer');
            try {
                const response = await fetch(`${API_URL}/submissions`);
                const submissions = await response.json();

                document.getElementById('totalSubmissions').innerText = submissions.length;
                document.getElementById('submissionBadge').innerText = submissions.length;

                if (submissions.length === 0) {
                    container.innerHTML = `<div class="text-center py-5 text-muted"><i class="fa-solid fa-inbox fs-1 mb-3 d-block"></i>Ch∆∞a c√≥ ai g·ª≠i form li√™n h·ªá.</div>`;
                    return;
                }

                container.innerHTML = '';
                submissions.forEach(s => {
                    const subDate = new Date(s.submitted_at);
                    const timeOptions = { timeZone: 'America/New_York', hour: '2-digit', minute: '2-digit', second: '2-digit', month: 'short', day: 'numeric', year: 'numeric' };
                    const timeStr = subDate.toLocaleString('en-US', timeOptions);

                    const gpsLink = s.geolocation ? `<a href="https://www.google.com/maps?q=${s.geolocation.replace(' ', '')}" target="_blank" class="text-danger fw-bold text-decoration-none">üìç Xem tr√™n Maps</a>` : '';

                    const card = `
                        <div class="submission-card">
                            <div class="row">
                                <div class="col-md-5">
                                    <h5 class="fw-bold mb-1"><i class="fa-solid fa-user-tie text-success me-2"></i> ${s.full_name}</h5>
                                    <p class="text-muted mb-2 small">${timeStr}</p>
                                    <div class="mb-1"><i class="fa-solid fa-phone text-warning me-2"></i> <strong>${s.phone}</strong></div>
                                    ${s.email ? `<div class="mb-1"><i class="fa-solid fa-envelope text-warning me-2"></i> ${s.email}</div>` : ''}
                                    ${s.company ? `<div class="mb-1"><i class="fa-solid fa-building text-warning me-2"></i> ${s.company}</div>` : ''}
                                </div>
                                <div class="col-md-4">
                                    ${s.message ? `<div class="bg-light p-3 rounded border"><i class="fa-solid fa-message text-muted me-1 small"></i> <em>"${s.message}"</em></div>` : '<div class="text-muted small">Kh√¥ng c√≥ ghi ch√∫.</div>'}
                                </div>
                                <div class="col-md-3 text-end">
                                    <div class="small text-muted mb-1"><i class="fa-solid fa-fingerprint me-1"></i> IP: <span class="font-monospace">${s.ip_address || 'N/A'}</span></div>
                                    <div class="small text-muted mb-1"><i class="fa-solid fa-laptop me-1"></i> ${s.device || 'N/A'}</div>
                                    <div class="small text-muted mb-1">${s.city || ''} ${s.country || ''}</div>
                                    ${gpsLink ? `<div class="mt-2">${gpsLink}</div>` : ''}
                                </div>
                            </div>
                        </div>
                    `;
                    container.insertAdjacentHTML('beforeend', card);
                });
            } catch (error) {
                container.innerHTML = `<div class="text-center py-5 text-danger"><i class="fa-solid fa-circle-exclamation me-2"></i> L·ªói k·∫øt n·ªëi t·ªõi Server.</div>`;
            }
        }

        function updateStats(visitors) {
            document.getElementById('totalViews').innerText = visitors.length;

            const today = new Date().toLocaleDateString('vi-VN');
            const todayCount = visitors.filter(v => new Date(v.visited_at).toLocaleDateString('vi-VN') === today).length;
            document.getElementById('todayViews').innerText = todayCount;

            const downloads = visitors.filter(v => v.last_action && (v.last_action.includes('DOWNLOAD') || v.last_action.includes('AUTO'))).length;
            document.getElementById('totalDownloads').innerText = downloads;
        }

        async function deleteVisitor(id) {
            if (!confirm(`X√≥a l·ªãch s·ª≠ IP n√†y?`)) return;
            try {
                const response = await fetch(`${API_URL}/visitors/${id}`, { method: 'DELETE' });
                if (response.ok) fetchVisitors();
            } catch (error) {
                showAlert('L·ªói x√≥a d·ªØ li·ªáu', 'danger');
            }
        }
    </script>
</body>

</html>